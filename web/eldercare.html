<!-- ====== eldercare.html (Doctor Portal with Intake + Linked Header) ====== -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PredictWell Health.ai — Eldercare Doctor Portal</title>
  <meta name="description" content="Eldercare Sentinel — Doctor Intake. Submit vitals, meds, labs, cognition, activity; model returns risk and suggested micro-actions.">
  <link rel="icon" href="data:,">

  <style>
    :root{
      --card-bg: rgba(255,255,255,0.92);
      --muted: rgba(0,0,0,0.55);
      --pill: #eef4ff;
      --accent: #0a66c2;
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:#0b1220;
      background-image:url("/static/images/predictwell_background.png");
      background-size:cover;background-position:center;
      background-repeat:no-repeat;background-attachment:fixed;
      min-height:100vh;
    }
    .topbar{
      position:sticky;top:0;z-index:50;
      backdrop-filter:saturate(120%) blur(8px);
      background:rgba(255,255,255,0.78);
      border-bottom:1px solid rgba(0,0,0,0.06);
    }
    .topwrap{
      max-width:1180px;margin:0 auto;
      display:flex;align-items:center;gap:12px;
      padding:12px 18px;
    }
    .logo{
      width:28px;height:28px;border-radius:9px;
      background:linear-gradient(145deg,#1f6feb,#7aa8ff);
      box-shadow:0 6px 20px rgba(31,111,235,0.35);
    }
    .brand{font-weight:700}
    .tagline{font-size:12px;color:var(--muted)}
    .hamburger{margin-left:auto;width:36px;height:36px;border-radius:12px;
      background:var(--card-bg);display:grid;place-items:center;border:1px solid rgba(0,0,0,0.06)}
    .hamburger span{display:block;width:16px;height:2px;background:#111;position:relative}
    .hamburger span:before,.hamburger span:after{content:"";position:absolute;left:0;width:16px;height:2px;background:#111}
    .hamburger span:before{top:-6px}.hamburger span:after{top:6px}
    .hero{
      max-width:1180px;margin:22px auto 0;padding:0 18px 22px;
    }
    .titlecard{
      background:var(--card-bg);border-radius:var(--radius);
      padding:22px;display:grid;gap:10px;
      box-shadow:0 10px 30px rgba(0,0,0,0.06);
    }
    .title{font-size:28px;margin:0}
    .subtitle{font-size:14px;color:var(--muted);margin:0}
    .chips{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
    .chip{
      background:var(--pill);color:#0a2a66;border:1px solid rgba(10,42,102,0.12);
      padding:6px 10px;border-radius:999px;font-size:12px;font-weight:600;
    }
    .grid{
      max-width:1180px;margin:18px auto 32px;padding:0 18px;
      display:grid;grid-template-columns:1.2fr .8fr;gap:20px;
    }
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .card{
      background:var(--card-bg);border-radius:var(--radius);
      box-shadow:0 10px 30px rgba(0,0,0,0.06);
      border:1px solid rgba(0,0,0,0.06);
    }
    .card.pad{padding:18px}
    .card h3{margin:4px 0 10px 0}
    .muted{color:var(--muted);font-size:14px}
    form.doctor-intake{display:grid;gap:16px}
    .section{
      border:1px dashed rgba(0,0,0,0.08);
      border-radius:14px;padding:14px 12px;
      background:rgba(248,250,255,0.75);
    }
    .section h4{margin:2px 2px 10px 2px;font-size:15px}
    .row{display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
    .col-6{grid-column:span 6}
    .col-4{grid-column:span 4}
    .col-3{grid-column:span 3}
    .col-12{grid-column:span 12}
    @media(max-width:720px){.col-6,.col-4,.col-3{grid-column:span 12}}
    label{display:block;font-size:12px;color:#1a2b4d;margin-bottom:6px;font-weight:600}
    input,select,textarea{
      width:100%;padding:10px 12px;border-radius:12px;
      border:1px solid rgba(0,0,0,0.12);background:#fff;font-size:14px;
    }
    textarea{min-height:70px;resize:vertical}
    .actions{display:flex;gap:12px;align-items:center}
    button{
      cursor:pointer;border:1px solid rgba(0,0,0,0.08);
      border-radius:12px;padding:10px 14px;font-weight:700;
      background:linear-gradient(135deg,#3b82f6,#60a5fa);
      color:#fff;
      box-shadow:0 10px 22px rgba(59,130,246,0.28);
    }
    .ghost{background:#fff;color:#0a2a66;font-weight:600}
    .result-wrap{display:grid;gap:10px}
    pre{
      background:#111827;color:#e5e7eb;border-radius:12px;
      padding:12px;font-size:12px;overflow:auto;margin:0;
    }
  </style>
</head>
<body>
  <!-- Header with clickable brand link -->
  <header class="topbar">
    <div class="topwrap">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <a href="/index.html" style="text-decoration:none;color:inherit;">
          <div class="brand">PredictWell Health.ai</div>
        </a>
        <div class="tagline">Proactive health insights for seniors &amp; athletes</div>
      </div>
      <div class="hamburger" aria-label="menu"><span></span></div>
    </div>
  </header>

  <section class="hero">
    <div class="titlecard">
      <h1 class="title">Eldercare Sentinel — Doctor Intake</h1>
      <p class="subtitle">Modernized clinical intake for seniors. Submit vitals, meds, labs, cognition, and activity; we’ll compute risk signals and suggested micro-actions.</p>
      <div class="chips">
        <span class="chip">Doctor Portal</span>
        <span class="chip">AI Risk Engine</span>
        <span class="chip">HIPAA-friendly design</span>
      </div>
    </div>
  </section>

  <main class="grid">
    <section class="card pad">
      <form id="doctorIntake" class="doctor-intake">
        <!-- FULL INTAKE (unchanged) -->
        <!-- Patient Info -->
        <div class="section">
          <h4>Patient &amp; Visit</h4>
          <div class="row">
            <div class="col-6"><label>Patient Name</label><input name="patient_name" required></div>
            <div class="col-3"><label>DOB</label><input name="dob" type="date" required></div>
            <div class="col-3"><label>Sex</label>
              <select name="sex"><option disabled selected>Select</option><option>Female</option><option>Male</option></select>
            </div>
          </div>
        </div>

        <!-- Vitals -->
        <div class="section">
          <h4>Vitals</h4>
          <div class="row">
            <div class="col-3"><label>SBP</label><input name="sbp" type="number"></div>
            <div class="col-3"><label>DBP</label><input name="dbp" type="number"></div>
            <div class="col-3"><label>HR</label><input name="hr" type="number"></div>
            <div class="col-3"><label>SpO₂</label><input name="spo2" type="number"></div>
          </div>
        </div>

        <!-- Labs -->
        <div class="section">
          <h4>Labs</h4>
          <div class="row">
            <div class="col-3"><label>HbA1c</label><input name="hba1c" type="number" step="0.1"></div>
            <div class="col-3"><label>LDL</label><input name="ldl" type="number"></div>
            <div class="col-3"><label>eGFR</label><input name="egfr" type="number"></div>
            <div class="col-3"><label>CRP</label><input name="crp" type="number" step="0.1"></div>
          </div>
        </div>

        <!-- Cognition -->
        <div class="section">
          <h4>Cognition &amp; Function</h4>
          <div class="row">
            <div class="col-3"><label>MMSE</label><input name="mmse" type="number"></div>
            <div class="col-3"><label>MoCA</label><input name="moca" type="number"></div>
            <div class="col-3"><label>Falls (12 mo)</label><input name="falls_12m" type="number"></div>
            <div class="col-3"><label>Gait Speed</label><input name="gait_speed" type="number" step="0.01"></div>
          </div>
        </div>

        <!-- Lifestyle -->
        <div class="section">
          <h4>Lifestyle</h4>
          <div class="row">
            <div class="col-3"><label>Sleep hrs</label><input name="sleep_hrs" type="number"></div>
            <div class="col-3"><label>Activity</label><select name="activity"><option>Light</option><option>Moderate</option></select></div>
            <div class="col-3"><label>PHQ-2</label><input name="phq2" type="number"></div>
            <div class="col-3"><label>Pain (0–10)</label><input name="pain" type="number"></div>
          </div>
        </div>

        <!-- Conditions -->
        <div class="section">
          <h4>Conditions / Medications</h4>
          <div class="row">
            <div class="col-12"><label>Conditions</label><input name="conditions"></div>
            <div class="col-12"><label>Medications</label><textarea name="meds"></textarea></div>
          </div>
        </div>

        <div class="actions">
          <button type="submit">Compute Risk</button>
          <button type="button" class="ghost" id="clearForm">Clear</button>
          <span class="muted" id="statusNote"></span>
        </div>
      </form>
    </section>

    <aside class="card pad">
      <div class="result-wrap">
        <h3>Results</h3>
        <p class="muted">Model response and suggested micro-actions will appear here.</p>
        <pre id="resultBox">{ "status": "ok" }</pre>
      </div>
    </aside>
  </main>

  <script>
    const BASE_API = 'https://predictwell-backend-ai.onrender.com';
    const form=document.getElementById('doctorIntake');
    const resultBox=document.getElementById('resultBox');
    const statusNote=document.getElementById('statusNote');
    const clearBtn=document.getElementById('clearForm');

    form.addEventListener('submit',async(e)=>{
      e.preventDefault();
      statusNote.textContent='Submitting…';
      const fd=new FormData(form); const obj={};
      fd.forEach((v,k)=>obj[k]=v);
      try{
        const res=await fetch(`${BASE_API}/eldercare/checkin`,{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify(obj)
        });
        const data=await res.json();
        resultBox.textContent=JSON.stringify(data,null,2);
        statusNote.textContent='Done';
      }catch(err){
        resultBox.textContent=JSON.stringify({error:String(err)},null,2);
        statusNote.textContent='Error';
      }
    });

    clearBtn.addEventListener('click',()=>{
      form.reset();
      resultBox.textContent='{ "status": "ok" }';
      statusNote.textContent='';
    });
  </script>
</body>
</html>
