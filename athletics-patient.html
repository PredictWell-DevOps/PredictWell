<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Athletics — Patient Check-In</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#0b1220;--ink:#e9eefc;--muted:#9bb0d3;--panel:#121a2b;--line:#213052}
    *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--ink)}
    .wrap{max-width:980px;margin:0 auto;padding:26px}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:20px;margin-bottom:14px}
    label{display:block;margin-bottom:6px;font-weight:600}
    input[type="number"]{width:100%;padding:12px;border-radius:12px;border:1px solid var(--line);background:#0b1426;color:#e9eefc}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:760px){.grid{grid-template-columns:1fr}}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .btn{appearance:none;border:1px solid #2a3a5e;background:#1a2440;color:#fff;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
    .muted{color:var(--muted)}
    .bar{height:12px;border-radius:999px;background:linear-gradient(90deg,#34d399,#f59e0b,#ef4444)}
    .gauge{position:relative;margin-top:8px}
    .needle{position:absolute;top:-6px;width:2px;height:24px;background:#fff;border-radius:1px}
    .kv{display:grid;grid-template-columns:220px 1fr;gap:8px;margin:6px 0}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card"><h2 style="margin:0">Athletics — Patient Check-In</h2><p class="muted" style="margin:6px 0 0">Quick check-in with a simple result.</p></div>

    <form id="f" class="card">
      <div class="grid">
        <div><label>Soreness (0–10)</label><input id="soreness" type="number" min="0" max="10" value="3" /></div>
        <div><label>Fatigue (0–10)</label><input id="fatigue" type="number" min="0" max="10" value="4" /></div>
        <div><label>Stress (0–10)</label><input id="stress" type="number" min="0" max="10" value="3" /></div>
        <div><label>Sleep (hours)</label><input id="sleep" type="number" min="0" max="12" step="0.1" value="7" /></div>
        <div><label>RPE (0–10)</label><input id="rpe" type="number" min="0" max="10" value="5" /></div>
        <div><label>Duration (min)</label><input id="dur" type="number" min="0" step="5" value="60" /></div>
      </div>

      <div class="row" style="margin-top:12px">
        <button class="btn" type="submit">Show Results</button>
        <a class="btn" href="/index.html">Back</a>
      </div>
    </form>

    <div id="result" class="card" style="display:none">
      <h3 style="margin-top:0">Results</h3>

      <div class="gauge">
        <div class="bar"></div>
        <div id="needle" class="needle"></div>
      </div>
      <div class="muted" style="display:flex;justify-content:space-between;margin-top:6px">
        <span>Low</span><span>Moderate</span><span>High</span>
      </div>

      <div style="margin-top:10px"><strong id="band">—</strong> <span class="muted" id="score"></span></div>

      <div class="card" style="margin-top:12px">
        <h4 style="margin:0 0 6px">Summary</h4>
        <div id="sum"></div>
      </div>
    </div>
  </div>

<script>
function v(id){return +document.getElementById(id).value||0}
function kv(k,v){return `<div class="kv"><div class="muted">${k}</div><div>${v}</div></div>`}
function compute(){
  const wl = v('rpe') * v('dur');                 // session load
  let score = Math.min(60, wl/10);                // cap workload contribution
  score += v('soreness')*2 + v('fatigue')*1.5 + v('stress')*1.5;
  score += Math.max(0, 7 - v('sleep'))*2;
  score = Math.round(Math.max(0, Math.min(100, score)));
  const band = score<33?'Low':(score<66?'Moderate':'High');
  return {score,band};
}
function setNeedle(score){
  const n=document.getElementById('needle');
  n.style.left=`calc(${score}% - 1px)`;
}
document.getElementById('f').addEventListener('submit',(e)=>{
  e.preventDefault();
  const {score,band}=compute();
  setNeedle(score);
  document.getElementById('band').textContent=band;
  document.getElementById('score').textContent=`(${score}/100)`;
  const s=[];
  s.push(kv('Soreness', v('soreness')));
  s.push(kv('Fatigue', v('fatigue')));
  s.push(kv('Stress', v('stress')));
  s.push(kv('Sleep (h)', v('sleep')));
  s.push(kv('RPE', v('rpe')));
  s.push(kv('Duration (min)', v('dur')));
  document.getElementById('sum').innerHTML=s.join('');
  document.getElementById('result').style.display='';
});
</script>
</body>
</html>
